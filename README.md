# 欢乐斗地主游戏【网络版】

> 基于C++、Qt与高并发服务器的网络对战斗地主项目

## 项目简介

本项目是一个完整的**网络版斗地主游戏**，结合了【欢乐斗地主-单机版】和【C/C++高并发服务器】两大项目的核心技术。它不仅支持本地单机娱乐，更提供了通过互联网与好友或陌生人实时对战的功能。该项目涉及C++、Qt、网络编程、多线程以及现代服务端技术（如Protobuf, Redis, MySQL）等技术，是CPP选手从客户端到服务端的全栈实战演练。

---

## 技术栈

本项目融合了多种技术，构建了一个高效、安全、可扩展的网络对战平台。

| 技术 | 用途 |
| :--- | :--- |
| **C++11+** | 服务端核心语言，利用现代C++特性提升代码质量与性能 |
| **Qt 5** | 客户端GUI开发框架，实现跨平台的桌面应用界面 |
| **Protobuf** | 轻量级数据序列化协议，用于客户端与服务器间高效的数据传输 |
| **OpenSSL** | 提供AES对称加密、RSA非对称加密、哈希校验及Base64编码，保障通信安全 |
| **Socket** | 基于TCP的双向通信协议，使用原生Socket实现底层网络通信 |
| **多线程编程** | 使用线程池管理并发任务，实现IO与业务逻辑分离，提升服务器吞吐量 |
| **Redis** | 内存数据库，高速缓存房间信息、玩家状态与会话密钥 |
| **MySQL** | 关系型数据库，持久化存储用户账号、积分等关键数据 |
| **Json** | 配置文件格式，灵活管理数据库连接等配置信息 |
| **单例模式** | C++设计模式应用，实现跨模块的数据共享与同步 |
| **CMake​​** | 跨平台构建系统，自动化管理项目依赖和构建流程 |

## 核心功能

### 🌐 网络通信
- 使用 **原生Socket** 编程实现TCP长连接，基于**Reactor模式**处理高并发IO事件。
- 所有业务数据均通过 **Protobuf** 进行序列化与反序列化，确保数据紧凑且跨平台兼容。

### 🔒 安全机制
- **RSA** 用于安全的密钥交换与数据签名。
- **AES** 对敏感通信数据进行对称加密。
- **SHA哈希** 校验数据完整性。

### 🎮 游戏系统
- **用户系统**：支持注册、登录功能，用户数据安全存储于MySQL。
- **房间系统**：提供随机加入、创建指定房间、搜索房间、离开房间等完整房间管理功能。
- **游戏逻辑**：完整实现抢地主、出牌判定、分数计算与同步等斗地主核心玩法。

### ⚙️ 高并发架构
- **多线程模型**：采用“主线程监听 + 线程池处理”的架构，主线程负责Socket监听与事件分发，工作线程池处理业务逻辑，避免阻塞。
- **线程安全**：通过互斥锁保护共享资源，确保多线程环境下数据一致性。
- **Redis** 缓存活跃玩家与房间数据，极大提升访问速度。
- **MySQL** 存储用户档案与历史数据，保证数据持久性。


### 环境要求
- **Qt**: 5.15 或更高版本
- **编译器**: 
  - Windows: MinGW 8.1+
  - Linux: G++ 9.4.0+
- **CMake**: 3.16.13或更高
- **其他**: 需要支持C++11


### 客户端使用

我们为Windows用户提供了便捷的客户端使用方式：

- **免安装版**：下载 `happy-landlords-portable.zip` 解压后直接运行 `client.exe` 即可。
- **安装版**：下载 `happy-landlords-installer.exe` 安装程序，按照向导完成安装后启动。

> 下载地址：[GitHub Releases 页面](https://github.com/SweetieRX/happy_landlords/releases/tag/v1.0.0)

### 服务端编译与运行

   ```bash
   git clone git@github.com:SweetieRX/happy_landlords.git
   cd happy_landlords/server
   mkdir build
   cd build
   cmake ..
   make
   cd ../bin && ./server

### ✅ 已搭建服务端 · 即刻畅玩

🎉 **好消息！服务端已由开发者部署至云端并持续维护**，玩家无需自行编译或搭建服务器，**只需下载客户端即可立即加入游戏**，与全国玩家实时对战！